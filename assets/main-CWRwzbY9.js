(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function u(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=u(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("nav-toggle"),i=document.getElementById("nav-menu"),u=document.querySelectorAll(".nav__link"),c=document.getElementById("cookie-popup"),e=document.getElementById("cookie-accept"),n="tronix_cookie_accepted";document.getElementById("quiz-form");const l=document.getElementById("contact-form"),r=document.getElementById("submit-btn"),a=document.getElementById("success-message");let y=0;const L=()=>{c&&localStorage.getItem(n)!=="true"&&setTimeout(()=>{c.classList.add("cookie-popup--visible")},1e3)},b=()=>{c&&(c.classList.remove("cookie-popup--visible"),localStorage.setItem(n,"true"))};e&&e.addEventListener("click",b),L();const g=()=>{if(!s||!i)return;s.classList.toggle("is-active")?(i.style.display="flex",document.body.style.overflow="hidden"):(i.style.display="none",document.body.style.overflow="")};s&&i&&(s.addEventListener("click",g),u.forEach(o=>{o.addEventListener("click",()=>{window.innerWidth<768&&s.classList.contains("is-active")&&g()})}),window.addEventListener("resize",()=>{window.innerWidth>=768?(i.style.display="block",document.body.style.overflow="",s.classList.remove("is-active")):s.classList.contains("is-active")||(i.style.display="none")}),window.innerWidth>=768&&(i.style.display="block")),typeof AOS<"u"&&AOS.init({once:!0,duration:1e3});const m=()=>{const o=Math.floor(Math.random()*10)+1,t=Math.floor(Math.random()*5)+1,d=document.getElementById("captcha-question");y=o+t,d&&(d.textContent=`${o} + ${t} = ?`)},k=()=>{let o=!0;const t=(w,I)=>{const E=document.getElementById(w+"-error");E&&(E.textContent=I),I&&(o=!1)},d=document.getElementById("name");d&&d.value.trim().length<2?t("name","Имя должно содержать минимум 2 символа."):t("name","");const h=document.getElementById("email");h&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.value.trim())?t("email","Введите корректный Email адрес."):t("email","");const f=document.getElementById("phone"),B=/[a-zA-Zа-яА-Я]/;f&&f.value.trim()!==""&&B.test(f.value.trim())?t("phone","Поле может содержать только цифры и специальные символы."):t("phone","");const p=document.getElementById("captcha");p&&(parseInt(p.value.trim())!==y?(t("captcha","Неверный ответ. Попробуйте снова."),m(),p.value=""):t("captcha",""));const v=document.getElementById("agreement");return v&&!v.checked?t("agreement","Необходимо согласиться с обработкой данных."):t("agreement",""),o};l&&(m(),l.addEventListener("submit",o=>{if(o.preventDefault(),a.style.display="none",!k())return;const t=r.textContent;r.textContent="Отправка...",r.disabled=!0,setTimeout(()=>{a.textContent="✅ Заявка успешно отправлена! Эксперт свяжется с вами в ближайшее время.",a.classList.add("form__message--success"),a.style.display="block",l.reset(),m(),setTimeout(()=>{r.textContent=t,r.disabled=!1,a.style.display="none"},4e3)},1500)})),(()=>{if(typeof lucide<"u")try{lucide.createIcons(),console.log("Lucide Icons successfully initialized.")}catch(o){console.error("Lucide Icons failed to create icons:",o)}else console.warn("Lucide Icons script not detected. Check CDN link in index.html.")})()});
//# sourceMappingURL=main-CWRwzbY9.js.map
