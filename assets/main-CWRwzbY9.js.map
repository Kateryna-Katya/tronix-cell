{"version":3,"file":"main-CWRwzbY9.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // =================================================\n  // КОНСТАНТЫ\n  // =================================================\n  // Примечание: Используем headerToggle вместо navToggle, если это его id\n  const headerToggle = document.getElementById('nav-toggle');\n  const navMenu = document.getElementById('nav-menu');\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  const cookiePopup = document.getElementById('cookie-popup');\n  const cookieAcceptBtn = document.getElementById('cookie-accept');\n  const cookieName = 'tronix_cookie_accepted';\n\n  const quizForm = document.getElementById('quiz-form');\n  const contactForm = document.getElementById('contact-form');\n  const submitContactBtn = document.getElementById('submit-btn');\n  const successMessage = document.getElementById('success-message');\n\n  let correctCaptchaAnswer = 0;\n\n\n  // =================================================\n  // 1. COOKIE POPUP ЛОГИКА\n  // =================================================\n\n  const showCookiePopup = () => {\n      if (cookiePopup && localStorage.getItem(cookieName) !== 'true') {\n          setTimeout(() => {\n              cookiePopup.classList.add('cookie-popup--visible');\n          }, 1000);\n      }\n  };\n\n  const hideCookiePopup = () => {\n      if (cookiePopup) {\n          cookiePopup.classList.remove('cookie-popup--visible');\n          localStorage.setItem(cookieName, 'true');\n      }\n  };\n\n  if (cookieAcceptBtn) {\n      cookieAcceptBtn.addEventListener('click', hideCookiePopup);\n  }\n  showCookiePopup();\n\n\n  // =================================================\n  // 2. ЛОГИКА МЕНЮ (HEADER TOGGLE)\n  // =================================================\n\n  const toggleMenu = () => {\n      // Проверяем, что элементы существуют, прежде чем с ними работать\n      if (!headerToggle || !navMenu) return;\n\n      const isActive = headerToggle.classList.toggle('is-active');\n\n      if (isActive) {\n          navMenu.style.display = 'flex';\n          document.body.style.overflow = 'hidden';\n      } else {\n          navMenu.style.display = 'none';\n          document.body.style.overflow = '';\n      }\n  };\n\n  if (headerToggle && navMenu) {\n      headerToggle.addEventListener('click', toggleMenu);\n\n      navLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              // Закрываем меню, только если оно открыто и мы на мобильном разрешении (<768px)\n              if (window.innerWidth < 768 && headerToggle.classList.contains('is-active')) {\n                  toggleMenu();\n              }\n          });\n      });\n\n      window.addEventListener('resize', () => {\n           if (window.innerWidth >= 768) {\n              navMenu.style.display = 'block';\n              document.body.style.overflow = '';\n              headerToggle.classList.remove('is-active'); // Сбрасываем состояние бургера\n          } else {\n               if (!headerToggle.classList.contains('is-active')) {\n                   navMenu.style.display = 'none';\n               }\n          }\n      });\n\n      if (window.innerWidth >= 768) {\n          navMenu.style.display = 'block';\n      }\n  }\n\n\n  // =================================================\n  // 3. AOS (ANIMATE ON SCROLL) ИНИЦИАЛИЗАЦИЯ\n  // =================================================\n\n  if (typeof AOS !== 'undefined') {\n      AOS.init({\n          once: true,\n          duration: 1000,\n      });\n  }\n\n\n  // =================================================\n  // 4. ЛОГИКА ОЦЕНКИ ЗНАНИЙ (QUIZ) - СТРУКТУРА-ЗАГЛУШКА\n  // =================================================\n\n  // (Логика Quiz оставлена как заглушка, так как секция была удалена из CSS)\n\n  // =================================================\n  // 5. ЛОГИКА ФОРМЫ КОНТАКТОВ (#contact-form)\n  // =================================================\n\n  const generateCaptcha = () => {\n      const num1 = Math.floor(Math.random() * 10) + 1;\n      const num2 = Math.floor(Math.random() * 5) + 1;\n      const questionElement = document.getElementById('captcha-question');\n\n      correctCaptchaAnswer = num1 + num2;\n      if (questionElement) {\n           questionElement.textContent = `${num1} + ${num2} = ?`;\n      }\n  };\n\n  const validateForm = () => {\n      let isValid = true;\n\n      const setError = (elementId, message) => {\n          const errorElement = document.getElementById(elementId + '-error');\n          if (errorElement) {\n              errorElement.textContent = message;\n          }\n          if (message) isValid = false;\n      };\n\n      const nameInput = document.getElementById('name');\n      if (nameInput && nameInput.value.trim().length < 2) {\n          setError('name', 'Имя должно содержать минимум 2 символа.');\n      } else {\n          setError('name', '');\n      }\n\n      const emailInput = document.getElementById('email');\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (emailInput && !emailRegex.test(emailInput.value.trim())) {\n          setError('email', 'Введите корректный Email адрес.');\n      } else {\n          setError('email', '');\n      }\n\n      const phoneInput = document.getElementById('phone');\n      const letterRegex = /[a-zA-Zа-яА-Я]/;\n\n      if (phoneInput && phoneInput.value.trim() !== '') {\n           if (letterRegex.test(phoneInput.value.trim())) {\n              setError('phone', 'Поле может содержать только цифры и специальные символы.');\n          } else {\n              setError('phone', '');\n          }\n      } else {\n           setError('phone', '');\n      }\n\n      const captchaInput = document.getElementById('captcha');\n      if (captchaInput) {\n          if (parseInt(captchaInput.value.trim()) !== correctCaptchaAnswer) {\n              setError('captcha', 'Неверный ответ. Попробуйте снова.');\n              generateCaptcha();\n              captchaInput.value = '';\n          } else {\n              setError('captcha', '');\n          }\n      }\n\n      const agreementCheckbox = document.getElementById('agreement');\n      if (agreementCheckbox && !agreementCheckbox.checked) {\n          setError('agreement', 'Необходимо согласиться с обработкой данных.');\n      } else {\n          setError('agreement', '');\n      }\n\n      return isValid;\n  };\n\n\n  if (contactForm) {\n      generateCaptcha();\n\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          successMessage.style.display = 'none';\n\n          if (!validateForm()) {\n              return;\n          }\n\n          const originalText = submitContactBtn.textContent;\n          submitContactBtn.textContent = 'Отправка...';\n          submitContactBtn.disabled = true;\n\n          setTimeout(() => {\n              successMessage.textContent = '✅ Заявка успешно отправлена! Эксперт свяжется с вами в ближайшее время.';\n              successMessage.classList.add('form__message--success');\n              successMessage.style.display = 'block';\n\n              contactForm.reset();\n              generateCaptcha();\n\n              setTimeout(() => {\n                  submitContactBtn.textContent = originalText;\n                  submitContactBtn.disabled = false;\n                  successMessage.style.display = 'none';\n              }, 4000);\n\n          }, 1500);\n      });\n  }\n\n\n  // =================================================\n  // 6. ИНИЦИАЛИЗАЦИЯ LUCIDE ICONS (Улучшенная версия)\n  // =================================================\n\n  /**\n   * Инициализирует иконки Lucide. Выносится в отдельную функцию для надежности.\n   */\n  const initializeLucideIcons = () => {\n      if (typeof lucide !== 'undefined') {\n          try {\n              // Проходим по всем элементам с data-lucide и преобразуем их в SVG\n              lucide.createIcons();\n              console.log(\"Lucide Icons successfully initialized.\");\n          } catch (error) {\n              console.error(\"Lucide Icons failed to create icons:\", error);\n          }\n      } else {\n          console.warn('Lucide Icons script not detected. Check CDN link in index.html.');\n      }\n  };\n\n  // Вызываем инициализацию Lucide после загрузки DOM\n  initializeLucideIcons();\n\n});"],"names":["headerToggle","navMenu","navLinks","cookiePopup","cookieAcceptBtn","cookieName","contactForm","submitContactBtn","successMessage","correctCaptchaAnswer","showCookiePopup","hideCookiePopup","toggleMenu","link","generateCaptcha","num1","num2","questionElement","validateForm","isValid","setError","elementId","message","errorElement","nameInput","emailInput","phoneInput","letterRegex","captchaInput","agreementCheckbox","e","originalText","error"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAMlD,MAAMA,EAAe,SAAS,eAAe,YAAY,EACnDC,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAW,SAAS,iBAAiB,YAAY,EAEjDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAkB,SAAS,eAAe,eAAe,EACzDC,EAAa,yBAEF,SAAS,eAAe,WAAW,EACpD,MAAMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAmB,SAAS,eAAe,YAAY,EACvDC,EAAiB,SAAS,eAAe,iBAAiB,EAEhE,IAAIC,EAAuB,EAO3B,MAAMC,EAAkB,IAAM,CACtBP,GAAe,aAAa,QAAQE,CAAU,IAAM,QACpD,WAAW,IAAM,CACbF,EAAY,UAAU,IAAI,uBAAuB,CACpD,EAAE,GAAI,CAEd,EAEKQ,EAAkB,IAAM,CACtBR,IACAA,EAAY,UAAU,OAAO,uBAAuB,EACpD,aAAa,QAAQE,EAAY,MAAM,EAE9C,EAEGD,GACAA,EAAgB,iBAAiB,QAASO,CAAe,EAE7DD,EAAiB,EAOjB,MAAME,EAAa,IAAM,CAErB,GAAI,CAACZ,GAAgB,CAACC,EAAS,OAEdD,EAAa,UAAU,OAAO,WAAW,GAGtDC,EAAQ,MAAM,QAAU,OACxB,SAAS,KAAK,MAAM,SAAW,WAE/BA,EAAQ,MAAM,QAAU,OACxB,SAAS,KAAK,MAAM,SAAW,GAEtC,EAEGD,GAAgBC,IAChBD,EAAa,iBAAiB,QAASY,CAAU,EAEjDV,EAAS,QAAQW,GAAQ,CACrBA,EAAK,iBAAiB,QAAS,IAAM,CAE7B,OAAO,WAAa,KAAOb,EAAa,UAAU,SAAS,WAAW,GACtEY,EAAY,CAE9B,CAAW,CACX,CAAO,EAED,OAAO,iBAAiB,SAAU,IAAM,CAC/B,OAAO,YAAc,KACtBX,EAAQ,MAAM,QAAU,QACxB,SAAS,KAAK,MAAM,SAAW,GAC/BD,EAAa,UAAU,OAAO,WAAW,GAEnCA,EAAa,UAAU,SAAS,WAAW,IAC5CC,EAAQ,MAAM,QAAU,OAG3C,CAAO,EAEG,OAAO,YAAc,MACrBA,EAAQ,MAAM,QAAU,UAS5B,OAAO,IAAQ,KACf,IAAI,KAAK,CACL,KAAM,GACN,SAAU,GACpB,CAAO,EAcL,MAAMa,EAAkB,IAAM,CAC1B,MAAMC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACxCC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EAAI,EACvCC,EAAkB,SAAS,eAAe,kBAAkB,EAElER,EAAuBM,EAAOC,EAC1BC,IACCA,EAAgB,YAAc,GAAGF,CAAI,MAAMC,CAAI,OAEvD,EAEKE,EAAe,IAAM,CACvB,IAAIC,EAAU,GAEd,MAAMC,EAAW,CAACC,EAAWC,IAAY,CACrC,MAAMC,EAAe,SAAS,eAAeF,EAAY,QAAQ,EAC7DE,IACAA,EAAa,YAAcD,GAE3BA,IAASH,EAAU,GAC1B,EAEKK,EAAY,SAAS,eAAe,MAAM,EAC5CA,GAAaA,EAAU,MAAM,KAAM,EAAC,OAAS,EAC7CJ,EAAS,OAAQ,yCAAyC,EAE1DA,EAAS,OAAQ,EAAE,EAGvB,MAAMK,EAAa,SAAS,eAAe,OAAO,EAE9CA,GAAc,CADC,6BACW,KAAKA,EAAW,MAAM,KAAI,CAAE,EACtDL,EAAS,QAAS,iCAAiC,EAEnDA,EAAS,QAAS,EAAE,EAGxB,MAAMM,EAAa,SAAS,eAAe,OAAO,EAC5CC,EAAc,iBAEhBD,GAAcA,EAAW,MAAM,KAAI,IAAO,IACrCC,EAAY,KAAKD,EAAW,MAAM,KAAM,CAAA,EACzCN,EAAS,QAAS,0DAA0D,EAK/EA,EAAS,QAAS,EAAE,EAGzB,MAAMQ,EAAe,SAAS,eAAe,SAAS,EAClDA,IACI,SAASA,EAAa,MAAM,KAAM,CAAA,IAAMnB,GACxCW,EAAS,UAAW,mCAAmC,EACvDN,EAAiB,EACjBc,EAAa,MAAQ,IAErBR,EAAS,UAAW,EAAE,GAI9B,MAAMS,EAAoB,SAAS,eAAe,WAAW,EAC7D,OAAIA,GAAqB,CAACA,EAAkB,QACxCT,EAAS,YAAa,6CAA6C,EAEnEA,EAAS,YAAa,EAAE,EAGrBD,CACV,EAGGb,IACAQ,EAAiB,EAEjBR,EAAY,iBAAiB,SAAWwB,GAAM,CAK1C,GAJAA,EAAE,eAAgB,EAElBtB,EAAe,MAAM,QAAU,OAE3B,CAACU,EAAY,EACb,OAGJ,MAAMa,EAAexB,EAAiB,YACtCA,EAAiB,YAAc,cAC/BA,EAAiB,SAAW,GAE5B,WAAW,IAAM,CACbC,EAAe,YAAc,0EAC7BA,EAAe,UAAU,IAAI,wBAAwB,EACrDA,EAAe,MAAM,QAAU,QAE/BF,EAAY,MAAO,EACnBQ,EAAiB,EAEjB,WAAW,IAAM,CACbP,EAAiB,YAAcwB,EAC/BxB,EAAiB,SAAW,GAC5BC,EAAe,MAAM,QAAU,MAClC,EAAE,GAAI,CAEV,EAAE,IAAI,CACjB,CAAO,IAWyB,IAAM,CAChC,GAAI,OAAO,OAAW,IAClB,GAAI,CAEA,OAAO,YAAa,EACpB,QAAQ,IAAI,wCAAwC,CACvD,OAAQwB,EAAO,CACZ,QAAQ,MAAM,uCAAwCA,CAAK,CACzE,MAEU,QAAQ,KAAK,iEAAiE,CAErF,GAGsB,CAEzB,CAAC"}