(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function u(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=u(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("nav-toggle"),c=document.getElementById("nav-menu"),u=document.querySelectorAll(".nav__link"),i=document.getElementById("cookie-popup"),e=document.getElementById("cookie-accept"),n="tronix_cookie_accepted";document.getElementById("quiz-form");const s=document.getElementById("contact-form"),l=document.getElementById("submit-btn"),a=document.getElementById("success-message");let g=0;const L=()=>{i&&localStorage.getItem(n)!=="true"&&setTimeout(()=>{i.classList.add("cookie-popup--visible")},1e3)},B=()=>{i&&(i.classList.remove("cookie-popup--visible"),localStorage.setItem(n,"true"))};e&&e.addEventListener("click",B),L();const y=()=>{if(!r||!c)return;r.classList.toggle("is-active")?(c.style.display="flex",document.body.style.overflow="hidden"):(c.style.display="none",document.body.style.overflow="")};r&&c&&(r.addEventListener("click",y),u.forEach(o=>{o.addEventListener("click",()=>{window.innerWidth<768&&r.classList.contains("is-active")&&y()})})),typeof AOS<"u"&&AOS.init({once:!0,duration:1e3});const m=()=>{const o=Math.floor(Math.random()*10)+1,t=Math.floor(Math.random()*5)+1,d=document.getElementById("captcha-question");g=o+t,d&&(d.textContent=`${o} + ${t} = ?`)},b=()=>{let o=!0;const t=(x,I)=>{const E=document.getElementById(x+"-error");E&&(E.textContent=I),I&&(o=!1)},d=document.getElementById("name");d&&d.value.trim().length<2?t("name","Имя должно содержать минимум 2 символа."):t("name","");const h=document.getElementById("email");h&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.value.trim())?t("email","Введите корректный Email адрес."):t("email","");const f=document.getElementById("phone"),k=/[a-zA-Zа-яА-Я]/;f&&f.value.trim()!==""&&k.test(f.value.trim())?t("phone","Поле может содержать только цифры и специальные символы."):t("phone","");const p=document.getElementById("captcha");p&&(parseInt(p.value.trim())!==g?(t("captcha","Неверный ответ. Попробуйте снова."),m(),p.value=""):t("captcha",""));const v=document.getElementById("agreement");return v&&!v.checked?t("agreement","Необходимо согласиться с обработкой данных."):t("agreement",""),o};s&&(m(),s.addEventListener("submit",o=>{if(o.preventDefault(),a.style.display="none",!b())return;const t=l.textContent;l.textContent="Отправка...",l.disabled=!0,setTimeout(()=>{a.textContent="✅ Заявка успешно отправлена! Эксперт свяжется с вами в ближайшее время.",a.classList.add("form__message--success"),a.style.display="block",s.reset(),m(),setTimeout(()=>{l.textContent=t,l.disabled=!1,a.style.display="none"},4e3)},1500)})),(()=>{if(typeof lucide<"u")try{lucide.createIcons()}catch(o){console.error("Lucide Icons failed to create icons:",o)}})()});
//# sourceMappingURL=main-DqDs7HAR.js.map
