{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // =================================================\n  // 1. КОНСТАНТЫ И ИНИЦИАЛИЗАЦИЯ\n  // =================================================\n\n  const navToggle = document.getElementById('nav-toggle');\n  const navMenu = document.getElementById('nav-menu');\n  const navLinks = document.querySelectorAll('.nav__link');\n  const quizForm = document.getElementById('quiz-form');\n  const contactForm = document.getElementById('contact-form');\n  const submitContactBtn = document.getElementById('submit-btn');\n  const successMessage = document.getElementById('success-message');\n\n  let correctCaptchaAnswer = 0;\n\n  // =================================================\n  // 2. ЛОГИКА МОБИЛЬНОГО МЕНЮ (HEADER)\n  // =================================================\n\n  const toggleMenu = () => {\n      navToggle.classList.toggle('is-active');\n      // ... (логика меню) ...\n      if (navMenu.style.display === 'flex') {\n          navMenu.style.display = 'none';\n          document.body.style.overflow = '';\n      } else {\n          navMenu.style.display = 'flex';\n          document.body.style.overflow = 'hidden';\n      }\n  };\n\n  if (navToggle && navMenu) {\n      navToggle.addEventListener('click', toggleMenu);\n\n      navLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              if (window.innerWidth < 768 && navToggle.classList.contains('is-active')) {\n                  toggleMenu();\n              }\n          });\n      });\n\n      window.addEventListener('resize', () => {\n          if (window.innerWidth >= 768) {\n              navMenu.style.display = 'block';\n              document.body.style.overflow = '';\n          } else {\n               if (!navToggle.classList.contains('is-active')) {\n                  navMenu.style.display = 'none';\n              }\n          }\n      });\n  }\n\n  // =================================================\n  // 3. AOS АНИМАЦИЯ (Инициализация)\n  // =================================================\n\n  if (typeof AOS !== 'undefined') {\n      AOS.init({\n          once: true,\n          duration: 1000,\n      });\n  }\n\n  // =================================================\n  // 4. ЛОГИКА ОЦЕНКИ ЗНАНИЙ (QUIZ)\n  // =================================================\n\n  if (quizForm) {\n      quizForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          const submitBtn = quizForm.querySelector('.quiz__submit-btn');\n          const originalText = submitBtn.textContent;\n\n          const allQuestions = quizForm.querySelectorAll('.quiz-question');\n          let answeredCount = 0;\n          allQuestions.forEach(q => {\n              if (q.querySelector('input:checked')) {\n                  answeredCount++;\n              }\n          });\n\n          if (answeredCount < allQuestions.length) {\n              alert('Пожалуйста, ответьте на все вопросы перед отправкой!');\n              return;\n          }\n\n          submitBtn.textContent = 'Отправка результатов...';\n          submitBtn.disabled = true;\n\n          setTimeout(() => {\n              submitBtn.textContent = '✅ Результат отправлен! Ожидайте email.';\n\n              setTimeout(() => {\n                  submitBtn.textContent = originalText;\n                  submitBtn.disabled = false;\n              }, 3000);\n\n          }, 1500);\n      });\n  }\n\n\n  // =================================================\n  // 5. ЛОГИКА ФОРМЫ КОНТАКТОВ (#contact-form)\n  // =================================================\n\n  /**\n   * Генерирует и отображает математический пример (Капча).\n   */\n  const generateCaptcha = () => {\n      const num1 = Math.floor(Math.random() * 10) + 1;\n      const num2 = Math.floor(Math.random() * 5) + 1;\n      const questionElement = document.getElementById('captcha-question');\n\n      correctCaptchaAnswer = num1 + num2;\n      if (questionElement) {\n           questionElement.textContent = `${num1} + ${num2} = ?`;\n      }\n  };\n\n  /**\n   * Валидация всех полей формы.\n   * @returns {boolean} True, если форма валидна.\n   */\n  const validateForm = () => {\n      let isValid = true;\n\n      const setError = (elementId, message) => {\n          const errorElement = document.getElementById(elementId + '-error');\n          if (errorElement) {\n              errorElement.textContent = message;\n          }\n          if (message) isValid = false;\n      };\n\n      // --- 1. ИМЯ ---\n      const nameInput = document.getElementById('name');\n      if (nameInput && nameInput.value.trim().length < 2) {\n          setError('name', 'Имя должно содержать минимум 2 символа.');\n      } else {\n          setError('name', '');\n      }\n\n      // --- 2. EMAIL ---\n      const emailInput = document.getElementById('email');\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (emailInput && !emailRegex.test(emailInput.value.trim())) {\n          setError('email', 'Введите корректный Email адрес.');\n      } else {\n          setError('email', '');\n      }\n\n      // --- 3. ТЕЛЕФОН (НОВАЯ ВАЛИДАЦИЯ) ---\n      const phoneInput = document.getElementById('phone');\n      // Регулярное выражение, которое ищет ЛЮБУЮ букву (как кириллицу, так и латиницу)\n      const letterRegex = /[a-zA-Zа-яА-Я]/;\n\n      if (phoneInput && phoneInput.value.trim() !== '') {\n           if (letterRegex.test(phoneInput.value.trim())) {\n              setError('phone', 'Поле может содержать только цифры, скобки, пробелы и символы + -.');\n          } else {\n              setError('phone', '');\n          }\n      } else {\n           setError('phone', ''); // Сбрасываем ошибку, если поле пустое и не обязательное\n      }\n\n      // --- 4. КАПЧА ---\n      const captchaInput = document.getElementById('captcha');\n      if (captchaInput) {\n          if (parseInt(captchaInput.value.trim()) !== correctCaptchaAnswer) {\n              setError('captcha', 'Неверный ответ. Попробуйте снова.');\n              generateCaptcha();\n              captchaInput.value = '';\n          } else {\n              setError('captcha', '');\n          }\n      }\n\n      // --- 5. СОГЛАСИЕ ---\n      const agreementCheckbox = document.getElementById('agreement');\n      if (agreementCheckbox && !agreementCheckbox.checked) {\n          setError('agreement', 'Необходимо согласиться с обработкой данных.');\n      } else {\n          setError('agreement', '');\n      }\n\n      return isValid;\n  };\n\n\n  // --- ОБРАБОТЧИК ОТПРАВКИ КОНТАКТОВ ---\n  if (contactForm) {\n      generateCaptcha();\n\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          successMessage.style.display = 'none';\n\n          if (!validateForm()) {\n              console.log('Form validation failed.');\n              return;\n          }\n\n          const originalText = submitContactBtn.textContent;\n          submitContactBtn.textContent = 'Отправка...';\n          submitContactBtn.disabled = true;\n\n          setTimeout(() => {\n              successMessage.textContent = '✅ Заявка успешно отправлена! Эксперт свяжется с вами в ближайшее время.';\n              successMessage.classList.add('form__message--success');\n              successMessage.style.display = 'block';\n\n              contactForm.reset();\n              generateCaptcha();\n\n              setTimeout(() => {\n                  submitContactBtn.textContent = originalText;\n                  submitContactBtn.disabled = false;\n                  successMessage.style.display = 'none';\n              }, 4000);\n\n          }, 1500);\n      });\n  }\n\n  // =================================================\n  // 6. ИНИЦИАЛИЗАЦИЯ LUCIDE ICONS\n  // =================================================\n\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n});"],"names":["navToggle","navMenu","navLinks","quizForm","contactForm","submitContactBtn","successMessage","correctCaptchaAnswer","toggleMenu","link","e","submitBtn","originalText","allQuestions","answeredCount","q","generateCaptcha","num1","num2","questionElement","validateForm","isValid","setError","elementId","message","errorElement","nameInput","emailInput","phoneInput","letterRegex","captchaInput","agreementCheckbox"],"mappings":"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"}